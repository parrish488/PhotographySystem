@model PhotgraphyMVC.Models.Client

@{
    ViewBag.Title = "Client Details";
}

<h2>Details</h2>

<div>
    <h4>Client</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FirstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.LastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Street)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Street)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.City)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.State)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.State)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Zip)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Zip)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PrimaryPhone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PrimaryPhone)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SecondaryPhone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SecondaryPhone)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ClientNotes)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ClientNotes)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Status)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Status)
        </dd>

    </dl>
</div>

<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ClientID }) |
    @Html.ActionLink("Back to List", "Index")
</p>

<div class="row">
    <div class="col-md-4">
        <h2>Client Events</h2>
        @foreach (var item in Model.Events)
        {
            <h4>@item.EventLabel</h4>
        }
    </div>
    <div class="col-md-4">
        <h2>Client Bills</h2>
        @{decimal total = 0;

            foreach (var item in Model.Billing)
            {
                if (item.BillingType == "Invoice")
                {
                    total += item.Total;
                }
                else if (item.BillingType == "Payment")
                {
                    total -= item.Total;
                }
            }
        }
        
        <h4>Total Owed: $@total</h4>
    </div>
    <div class="col-md-4">
        <h2>Client Mileage</h2>
        @foreach (var item in Model.Mileage)
        {
            <h4>@item.MileageDate: @item.MilesDriven Miles</h4>
        }
    </div>
</div>

